"""
Разработали спам-фильтр на основании часто встречающихся фраз.
70% всех писем –это спам. В 10 % писем со спамом встречается фраза:
«вся правда о» и в 0.5% она встречается в хороших письмах.

Какова вероятность, что пришедшее на почту письмо является спамом,
если в нем есть данная фраза?
"""

# Для решения этой задачи необходимо применить формулу Байеса:
#
# P(A|B) = P(B|A) * P(A) / P(B),
#
# где P(A|B) - вероятность того, что письмо является спамом при условии,
# что в нём есть фраза "вся правда о",

# P(B|A) - вероятность того, что фраза "вся правда о" встречается в
# спам-письмах (10%),

# P(A) - априорная вероятность того, что письмо является спамом (70%),

# P(B) - полная вероятность наличия фразы "вся правда о" в письме.
#
# Полная вероятность наличия фразы "вся правда о" в письме можно вычислить как:
#
# P(B) = P(B|A) * P(A) + P(B|¬A) * P(¬A),
#
# где P(B|¬A) - вероятность того, что фраза "вся правда о" встречается в
# не-спам письмах (0.5%),
# P(¬A) - априорная вероятность того, что письмо не является спамом (30%).
#
# Тогда:
#
# P(B) = 0.1 * 0.7 + 0.005 * 0.3 = 0.0705.
#
# Теперь можно вычислить P(A|B):
#
# P(A|B) = P(B|A) * P(A) / P(B) = 0.1 * 0.7 / 0.0705 ≈ 0.99.
#
# Таким образом, вероятность того, что письмо является спамом, если в нём есть
# фраза "вся правда о", составляет около 99%.

# Заданные вероятности
p_spam = 0.7
p_not_spam = 0.3
p_phrase_given_spam = 0.1
p_phrase_given_not_spam = 0.005

# Вычисление полной вероятности наличия фразы "вся правда о" в письме
p_phrase = p_phrase_given_spam * p_spam + p_phrase_given_not_spam * p_not_spam

# Вычисление вероятности того, что письмо является спамом при условии
# наличия фразы "вся правда о"
p_spam_given_phrase = p_phrase_given_spam * p_spam / p_phrase

# Вывод результата
print("Вероятность того, что письмо является спамом:", p_spam_given_phrase)
